# Cài đặt Oracle Database 19c trên Oracle Linux 7
## Chuẩn bị
- 1 máy đã cài đặt Orcle Linux 7

## Cài đặt
### 1. Tài về phần mềm Oracle Databases
Ta tải Oracle Database 19c [tại đây](https://www.oracle.com/database/technologies/oracle19c-linux-downloads.html)

Tải về file: `Oracle Database 19c (19.3) for Linux x86-64`

![alt text](../images/install_02.png)

Sau đó, ta thực hiện upload lên máy cài đặt Oracle Linux 7 đã chuẩn bị ở trên


### 2. Cấu hình 
#### 2.1. Đặt hostname
```bash
hostnamectl set-hostname oracle-linux
```

Kiểm tra:

```bash
[root@oracledb ~]# hostnamectl
   Static hostname: oracle-linux
         Icon name: computer-vm
           Chassis: vm
        Machine ID: 11e0e60ee79ba99298e5461d1a6e7ecf
           Boot ID: 547f6c9a438446b8b1e9098b7f764300
    Virtualization: kvm
  Operating System: CentOS Linux 7 (Core)
       CPE OS Name: cpe:/o:centos:centos:7
            Kernel: Linux 3.10.0-1160.83.1.el7.x86_64
      Architecture: x86-64
[root@oracledb ~]#
```

#### 2.2. Cấu hình `/etc/hosts`
```bash
vi /etc/hosts
```

Thêm dòng 

```bash
192.168.70.105 oracle-linux.localdomain oracle-linux
```

- IP phải là IP thật của máy, không dùng 127.0.0.1

#### 2.3. Chỉnh sửa hostname trong file `/etc/hostname`

```bash
oracle-linux.localdomain
```

#### 2.4. Disable firewalld và SELinux
Disable Firewall:

```bash
systemctl stop firewalld
systemctl disable firewalld
```

Disable SELinux:

```bash
vi /etc/selinux/config
```

Sửa:

```bash
SELINUX=disabled
```

Áp dụng ngay(không cần reboot):

```bash
setenforce 0
```

Kiểm tra:

```bash
[root@oracledb ~]# getenforce
Disabled
[root@oracledb ~]#
```

### 3. Cấu hình Oracle 
Tạo thư mục chuẩn

```bash
mkdir -p /u01/app/oracle/product/19.3.0/dbhome_1
chown -R oracle:oinstall /u01
chmod -R 775 /u01
```

Lưu ý: Nếu chưa có user `oracle` và group `oinstall` `dba` thì ta phải tạo mới

Di chuyển toàn bộ thư mục oracle đã giải nén:

```bash
mv /root/oracle/* /u01/app/oracle/product/19.3.0/dbhome_1/
```

Fix quyền sở hữu:

```bash
chown -R oracle:oinstall /u01/app/oracle
```

Set biến môi trường:

```bash
vi ~/.bash_profile
```

```bash
export ORACLE_BASE=/u01/app/oracle
export ORACLE_HOME=$ORACLE_BASE/product/19.3.0/dbhome_1
export ORACLE_SID=ORCL
export PATH=$ORACLE_HOME/bin:$PATH
```

```bash
source ~/.bash_profile
```

Chạy installer:

```bash
cd $ORACLE_HOME
./runInstaller
```